<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> App打包时遇大量警告解决办法 · RecherJ's blog</title><meta name="description" content="App打包时遇大量警告解决办法 - RecherJ"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://recherj.github.io/atom.xml" title="RecherJ's blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://weibo.com/u/2698628733" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/RecherJ" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">App打包时遇大量警告解决办法</h1><div class="post-info">May 5, 2016</div><div class="post-content"><p>昨天在对App进行最后一次小修小布后，准备进行第一个版本的打包上架，在真机运行和调试时都没有问题，但是当<code>Archive</code>时一下呼呼出现了89个警告，我想当时我的表情应该是这样的<br><a id="more"></a><br><img src="/img/download.png" alt=""></p>
<p>这么多警告，能上架吗？？？ ！！<br><br>几乎全是类似于这样的警告 <code>xxxx.pch No such file or directory</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warning: /var/folders/_j/hqhnz9xd2qv_39dd1vdmw1nc0000gn/C/org.llvm.clang.tarekskr/ModuleCache/2YCOBXU93NY4O/UIKit-1MCEWB5GAZIR1.pcm: No such file or directory</span><br></pre></td></tr></table></figure>
<p>其实之前也遇到过，但是当时没管，想的反正又不是报错，程序能跑不就完了，但是一想到苹果那严苛的审核机制，万一遇上个心情不好的，拒绝后我再提上去，一个月过去了。。 想到这，我还是不要挑战苹果的底线，老老实实改警告</p>
<p><img src="/img/url.gif" alt=""></p>
<p>于是各种Google呀，各种查，stackoverflow上和Apple Developer Forums遇到过这个问题的人倒也挺多，大概看了一下，很多人说这是Xcode7 beta版的问题，没有什么好的解决办法，也有人说这是编译时链接问题，想办法绕过就可以了，于是我参照了别人的解决方案修改了一下几个编译链接的设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- Precompile Prefix (GCC_PRECOMPILE_PREFIX_HEADER) = NO</span><br><span class="line">- Debug Information Format (DEBUG_INFORMATION_FORMAT) = DWARF with dSYM</span><br><span class="line">- Enabled Modules (C and Objective-C) (CLANG_ENABLE_MODULES) = NO</span><br></pre></td></tr></table></figure></p>
<p><a href="https://forums.developer.apple.com/thread/17921" target="_blank" rel="external">Lots of warnings when building with Xcode 7 with 3rd party libraries</a><br><br><a href="https://forums.developer.apple.com/message/47932#47932" target="_blank" rel="external">Warnings creating dSYM in Xcode beta 6</a><br><br><a href="http://sensiblecocoa.com/community/topic/2344-warnings-with-stv-500-and-xcode-7-beta-5/#entry12829" target="_blank" rel="external">Warnings with STV 5.0.0 and Xcode 7 beta 5</a></p>
<p>然而并没什么乱用。。</p>
<p>后来我怀疑可能是当时引入了一个pch导致，因为当时我的pch文件在工程中是全路径引入，即<code>/Users/liuyonggang/Documents/Guitar/GuitarTeach/GuitarTeach/Classes/Others/PrefixHeader.pch</code></p>
<p>会不会是这个在打包后，就找不到文件里面的链接地址了呢？ 反正不管那么多，先改了再说，我记得之前学习时看老师的代码中pch文件路径是截止到工程路径位置，不写全路径。于是我将路径改为<code>GuitarTeach/Classes/Others/PrefixHeader.pch</code>，并将<code>Precompile Prefix Header</code>设置为NO，CMD+B 哎呦通过了！<br>然后再打包时就一下只剩4个警告了，看到从89个警告变为4个，心里那是一个酸爽！</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/01/17/配合Shadowsocks为git配置SSH全局代理突破GFW/" class="prev">PREV</a><a href="/2016/05/05/dyld-Library-not-loaded-System-Library-Frameworks-ModelIO-framework-XXXX问题解决/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2018 <a href="https://recherj.github.io">RecherJ</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>